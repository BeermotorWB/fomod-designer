install:
  - set PATH=C:\Qt\5.5\mingw492_32\bin;C:\MinGW\msys\1.0\bin;C:\MinGW\bin;%PATH%
  - wget --no-check-certificate http://sourceforge.net/projects/pyqt/files/sip/sip-4.17/sip-4.17.zip
  - wget --no-check-certificate http://sourceforge.net/projects/pyqt/files/PyQt5/PyQt-5.5.1/PyQt-gpl-5.5.1.zip
  - unzip sip-4.17.zip
  - unzip PyQt-gpl-5.5.1.zip
  - cd sip-4.17
  - where sh
  - python configure.py -p win32-g++
  - set PATH_PREV=%PATH%
  - set PATH=C:\Qt\5.5\mingw492_32\bin;C:\MinGW\bin
  - mingw32-make
  - mingw32-make install
  - set PATH=%PATH_PREV%
  - cd ../PyQt-gpl-5.5.1
  - python configure.py --spec=win32-g++
  - set PATH_PREV=%PATH%
  - set PATH=C:\Qt\5.5\mingw492_32\bin;C:\MinGW\bin
  - mingw32-make
  - mingw32-make install
  - set PATH=%PATH_PREV%
  - cd ..
  - pip install -r reqs.txt

build: off

test_script:
  - inv build

artifacts:
  - path: dist\*

deploy:
  - provider: GitHub
    auth_token:
      secure: iMaZrvVT+OI/9jRs8LyOvmzVqIBa0/jpiK96wNzZww/KqKsMcferhIeSK7faNzOo
    artifact: 'dist\FOMOD Designer'
    force_update: true
    on:
      branch: master
      appveyor_repo_tag: true